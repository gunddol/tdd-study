## CH17.Money 회고

#### 다음에 할일은 무엇인가
- 아직 코딩이 끝나지 않았다.
	- `Expression`인터페이스를 클래스로 바꾸어 그릇으로 사용하면 더 많은 중복을 제거 할 수 있을 것
- 시스템이 크면 클수록 건드리는 부분들이 절대적으로 견고해야한다
- 할일 목록이 비었을 때가 검토하기에 가장 적절한 타이밍
	- 말과 개념이 서로 잘 통하는지
	- 현재의 설계로는 제거하기 힘든 중복이 있는지
	
	
#### 메타포
- `MoneySum` -> `MoneyBag` -> `Wallet`
- 이 모든 메타포는 Money의 집합이 딱 떨어지는 숫자로 된다는걸 암시함
> 어떤 문제를 해결할 때 적절한 메타포를 이용해 큰 그림을 그려야한다.


#### 코드 메트릭스 해석
- `실제 코드`와 `테스트 코드`의 함수와 줄의 양이 비슷하다
> 코드 한 줄 한 줄 마다 테스트를 작성하는 정도의 테스트가 필요하다


#### 프로세스
- TDD의 주기
  1. 작은 테스트를 추가한다.
  2. 모든 테스트를 실행하고, 실패하는 것을 확인한다.
  3. 코드에 변화를 준다.
  4. 모든 테스트를 실행하고, 성공하는 것을 확인한다.
  5. 중복 제거를 위한 리팩토링


#### 테스트의 질
> 테스트의 수명은 시스템의 수명과 같이할만큼 유용하다.
- 테스트들이 다음과 같은 테스트를 대체할 수는 없다.
  - 성능 테스트
  - 스트레스 테스트
  - 사용성 테스트
- 만약 테스트 주도 코드의 결함 밀도가 매우 낮다면 테스팅의 역할은 시스템이 어떠한 역할을 가져야한다고 기능을 정의하는 사람들과 실제로 그것을 구현하는 사람들 간의 의사소통 쪽의 방향으로 좀 더 치중될 것이다.
- `테스트 커버리지 수치`란 `(프로그램의 서로 다른 경우를 테스트하는 테스트 수) / (테스팅이 필요한 경우의 수)` 이다.
- `테스트 커버리지`를 향상시키는 한 가지 방법은 더욱 많은 테스트를 작성하는 것
- `테스트 커버리지`를 향상시키는 다른 방법은 로직을 단순화하는 것
	- `리팩토링` 단계가 종종 위와 같은 효과를 불러온다.


#### 최종 검토
- 테스트를 확실히 돌아가게 만드는 세 가지 접근법
  - 가짜로 구현하기
  - 삼각 측량법
  - 명백하게 구현하기
- 설계를 주도하기 위한 방법
  - 테스트 코드와 실제 코드 사이의 중복을 제거하기
- 경우에 따라 속도를 줄이고 늦출수 있는 능력을 가져야 한다.
